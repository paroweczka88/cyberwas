<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>CyberWąs</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  color: #ddd;
  font-family: Consolas, monospace;
  overflow: hidden;
}

/* MATRIX */
canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
}

/* KARTA */
.container {
  position: relative;
  z-index: 2;
  width: 360px;
  margin: 80px auto;
  padding: 30px;
  background: rgba(0,0,0,0.8);
  border-radius: 12px;
  box-shadow: 0 0 30px #00ff88;
  text-align: center;
}

/* WĄS */
#was {
  width: 340px;
  margin: 0 auto 25px;
  display: block;
  cursor: pointer;
  transform: rotate(180deg);
  filter: drop-shadow(0 0 14px #00ff88);
  transition: transform 0.2s, filter 0.2s;
}

/* ANIMACJE */
@keyframes shake {
  0% { transform: rotate(180deg) translateX(0); }
  25% { transform: rotate(180deg) translateX(-5px); }
  50% { transform: rotate(180deg) translateX(5px); }
  75% { transform: rotate(180deg) translateX(-5px); }
  100% { transform: rotate(180deg) translateX(0); }
}

@keyframes glowFlash {
  0% { filter: drop-shadow(0 0 5px #00ff88); }
  25% { filter: drop-shadow(0 0 25px #00ff88); }
  50% { filter: drop-shadow(0 0 10px #00ff88); }
  75% { filter: drop-shadow(0 0 30px #00ff88); }
  100% { filter: drop-shadow(0 0 14px #00ff88); }
}

/* INPUT */
input {
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: none;
  margin-top: 15px;
}

button {
  margin-top: 12px;
  padding: 10px;
  width: 100%;
  background: #00ff88;
  border: none;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

.success { color: #00ff88; }
.fail { color: #ff4444; }

.timer {
  margin: 15px 0;
  font-size: 20px;
  color: orange;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div class="container">

  <!-- WĄS -->
  <img src="was.svg" id="was" alt="CyberWąs">

  <p>
    Nie raz myślałeś, że nie jest Ci w nim do twarzy.
    Że bardziej zabiera Ci urok niż sprawia, że jesteś szanowany.
  </p>

  <div class="timer" id="timer">⏳ --</div>

  <input id="input" placeholder="hasło">
  <button onclick="sprawdz()">Sprawdź</button>

  <p id="wynik"></p>

</div>

<script>
/* AUDIO */
function playSound(name) {
  const audio = new Audio(`audio/${name}.mp3`);
  audio.volume = 0.7;
  audio.play().catch(() => {});
}

/* START SOUND */
document.addEventListener("click", function first() {
  playSound("enter");
  document.removeEventListener("click", first);
});

/* TIMER */
const target = new Date("2025-01-31T21:00:00");

function updateTimer() {
  const now = new Date();
  const diff = target - now;

  if (diff <= 0) {
    timer.textContent = "⏰ CZAS MINĄŁ";
    return;
  }

  const d = Math.floor(diff / 86400000);
  const h = Math.floor(diff / 3600000) % 24;
  const m = Math.floor(diff / 60000) % 60;
  const s = Math.floor(diff / 1000) % 60;

  timer.textContent = `⏳ ${d}d ${h}h ${m}m ${s}s`;
}
setInterval(updateTimer, 1000);
updateTimer();

/* SPRAWDZANIE */
function sprawdz() {
  const v = input.value.trim().toLowerCase();
  if (v === "wąs" || v === "was") {
    wynik.textContent = "✅ POPRAWNA ODPOWIEDŹ";
    wynik.className = "success";
    playSound("success");
  } else {
    wynik.textContent = "❌ ZŁA ODPOWIEDŹ";
    wynik.className = "fail";
    playSound("error");
  }
}

/* WĄS INTERAKCJA + SEKRET */
let wasClicks = 0;
const was = document.getElementById("was");

was.addEventListener("click", () => {
  wasClicks++;
  playSound("click");

  was.style.animation = "glowFlash 0.6s, shake 0.4s";
  setTimeout(() => was.style.animation = "", 600);

  if (wasClicks === 3) {
    playSound("secret");
    wasClicks = 0;
  }
});

/* MATRIX */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const chars = "アカサタナ0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
const fontSize = 16;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
  ctx.fillStyle = "rgba(0,0,0,0.08)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle = "#00ff88";
  ctx.font = fontSize + "px monospace";

  for (let i = 0; i < drops.length; i++) {
    const text = chars[Math.floor(Math.random()*chars.length)];
    ctx.fillText(text, i*fontSize, drops[i]*fontSize);

    if (drops[i]*fontSize > canvas.height && Math.random() > 0.975)
      drops[i] = 0;

    drops[i]++;
  }
}
setInterval(drawMatrix, 35);
</script>

</body>
</html>
