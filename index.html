<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>CyberWąs</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

/* MATRIX CANVAS */
#matrix {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 0;
}

/* CONTENT */
body {
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
}

.container {
  position: relative;
  z-index: 2;
  background: rgba(10, 10, 10, 0.85);
  padding: 30px 40px;
  border-radius: 14px;
  max-width: 420px;
  box-shadow: 0 0 40px rgba(0,255,120,0.3);
  text-align: center;
}

/* WĄS */
#was {
  width: 340px;
  display: block;
  margin: 0 auto 25px;
  cursor: pointer;
  filter: drop-shadow(0 0 14px #00ff88);
  transition: transform 0.2s ease, filter 0.2s ease;
  transform: rotate(180deg); /* ⬅️ OBRÓT WĄSA */
}

#was:hover {
  animation: pulse 1.2s infinite;
}

/* TEXT */
.text-block {
  text-align: justify;
  line-height: 1.6;
  opacity: 0.9;
}

#timer {
  font-size: 24px;
  font-weight: bold;
  color: orange;
  margin: 15px 0 5px;
}

#custom-text {
  font-size: 14px;
  opacity: 0.7;
  margin-bottom: 20px;
}

input {
  padding: 10px;
  width: 80%;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}

button {
  margin-top: 10px;
  padding: 10px 20px;
  border-radius: 6px;
  border: none;
  background: #00c853;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #00e676;
}

.success {
  color: #00ff88;
  font-weight: bold;
}

.fail {
  color: #ff5252;
  font-weight: bold;
}

/* ANIMACJE */
@keyframes shake {
  0% { transform: rotate(180deg) translate(0,0); }
  25% { transform: rotate(180deg) translate(-3px,2px); }
  50% { transform: rotate(180deg) translate(3px,-2px); }
  75% { transform: rotate(180deg) translate(-2px,1px); }
  100% { transform: rotate(180deg) translate(0,0); }
}

@keyframes pulse {
  0% { filter: drop-shadow(0 0 6px #00ff88); }
  50% { filter: drop-shadow(0 0 18px #00ff88); }
  100% { filter: drop-shadow(0 0 6px #00ff88); }
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div class="container">

  <!-- WĄS SVG -->
  <svg id="was" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
    <path fill="white" d="M100 150 C200 50 300 50 400 150 C500 50 600 50 700 150 C600 200 500 250 400 200 C300 250 200 200 100 150 Z"/>
  </svg>

  <!-- ZAGADKA -->
  <p class="text-block">
    Nie raz myślałeś, że nie jest Ci w nim do twarzy.
    Że bardziej zabiera Ci urok niż sprawia, że jesteś
    szanowany. Wśród małych dzieci powoduje gęsią skórkę.
    Bo każdy młodzian wie jaką masz rurkę. Powiadają, że
    nawet ściany mają je w swoim arsenale, ale uważaj bo
    zbyt długo noszony sprawia, że skończysz w kakale.
  </p>

  <!-- TIMER -->
  <div id="timer"></div>
  <div id="custom-text">do aktywacjia pedowirusa</div>

  <!-- HASŁO -->
  <input id="odpowiedz" placeholder="Wpisz hasło">
  <br>
  <button onclick="sprawdz()">Sprawdź</button>

  <div id="wynik" class="text-block"></div>
</div>

<script>
/* AUDIO */
function playAudio(file){
  new Audio(file).play();
}

/* INTRO AUDIO – po pierwszym kliknięciu */
let introPlayed = false;
function playIntro() {
  if (introPlayed) return;
  playAudio("intro.MP3");
  introPlayed = true;
}
document.addEventListener("click", playIntro, { once: true });

/* MATRIX */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const chars = "アカサタナハマヤラ0123456789";
const fontSize = 16;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
  ctx.fillStyle = "rgba(0,0,0,0.05)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = "#00ff88";
  ctx.font = fontSize + "px monospace";

  drops.forEach((y, i) => {
    const text = chars[Math.floor(Math.random()*chars.length)];
    ctx.fillText(text, i*fontSize, y*fontSize);
    if (y*fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
    drops[i]++;
  });
}
setInterval(drawMatrix, 50);

/* TIMER */
const endDate = new Date("January 31, 2026 21:00:00").getTime();
setInterval(() => {
  const d = endDate - Date.now();
  if (d > 0) {
    const days = Math.floor(d / 86400000);
    const h = Math.floor((d / 3600000) % 24);
    const m = Math.floor((d / 60000) % 60);
    const s = Math.floor((d / 1000) % 60);
    timer.textContent = `${days}d ${h}h ${m}m ${s}s`;
  } else {
    timer.textContent = "Czas minął";
  }
}, 1000);

/* WĄS INTERAKCJA */
const was = document.getElementById("was");
was.addEventListener("click", () => {
  playAudio("was_click.MP3");
  was.style.animation = "shake 0.4s";
  setTimeout(() => was.style.animation = "", 400);
});

/* HASŁO */
function sprawdz(){
  const poprawne = ["wąs","wąsik","wąsisko","koper"];
  const wpis = odpowiedz.value.toLowerCase().trim();
  const wynik = document.getElementById("wynik");

  if(poprawne.includes(wpis)){
    wynik.textContent =
      "Aby wstrzymać działanie pedowirusa, nie gól wąsa do końca styczniusa.";
    wynik.className = "success";
    playAudio("good.MP3");
  } else {
    wynik.textContent = "❌ Zła odpowiedź. Próbuj dalej.";
    wynik.className = "fail";
    playAudio("bad.MP3");
  }
}
</script>

</body>
</html>

